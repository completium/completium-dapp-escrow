(this["webpackJsonpcompletium-dapp-escrow"]=this["webpackJsonpcompletium-dapp-escrow"]||[]).push([[0],{163:function(r,e){},165:function(r,e){},231:function(r,e){},233:function(r,e){},246:function(r,e){},248:function(r,e){},265:function(r,e,i){},267:function(r,e,i){"use strict";i.r(e);var t=i(2),n=i(0),a=i.n(n),s=i(13),c=i.n(s),o=(i(75),i(48)),m=i.n(o),l=i(62),p=i(15),d="delphinet",j="AmazinCorp.",g="85",x="tz1ZXf37ZNfVupt5GVyrPJ76q8kbjFuD2z7R",b="tz1MZrh8CvYkp7BfLQMcm6mg5FvL5HRZfACw",h=i(318),u=i(319),O=i(269),P=i(317),f=i(313),D=i(320),I=i(64),S=i(92),y=Object(I.a)((function(r){var e=r.appName,i=a.a.useState((function(){return{wallet:null,tezos:null,accountPkh:null}})),t=Object(p.a)(i,2),n=t[0],s=n.wallet,c=n.tezos,o=n.accountPkh,d=t[1],j=Boolean(c);a.a.useEffect((function(){return S.a.onAvailabilityChange((function(r){d({wallet:r?new S.a(e):null,tezos:null,accountPkh:null})}))}),[d,e]);var g=a.a.useCallback(function(){var r=Object(l.a)(m.a.mark((function r(e,i){var t,n;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,s){r.next=3;break}throw new Error("Thanos Wallet not available");case 3:return r.next=5,s.connect(e,i);case 5:return t=s.toTezos(),r.next=8,t.wallet.pkh();case 8:n=r.sent,d({wallet:s,tezos:t,accountPkh:n}),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),alert("Failed to connect ThanosWallet: ".concat(r.t0.message));case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e,i){return r.apply(this,arguments)}}(),[d,s]);return{wallet:s,tezos:c,accountPkh:o,ready:j,connect:g}}),(function(r){return r.wallet}),(function(r){return r.tezos}),(function(r){return r.accountPkh}),(function(r){return r.ready}),(function(r){return r.connect})),A=Object(p.a)(y,6),R=A[0],v=A[1],U=A[2],C=A[3],w=A[4],k=A[5];var F=i(316),T=function(r){var e=w(),i=v();return e?Object(t.jsx)("div",{}):i?Object(t.jsx)(f.a,{variant:"contained",color:"secondary",disableElevation:!0,size:"small",style:{position:"absolute",right:"90px"},onClick:r.handleConnect,children:"connect to wallet"}):Object(t.jsx)(F.a,{href:"https://thanoswallet.com/",rel:"noopener",underline:"none",style:{position:"absolute",right:"1%"},children:Object(t.jsx)(f.a,{variant:"contained",size:"small",disableElevation:!0,style:{backgroundColor:"#ed8936",color:"white",fontWeight:"bold"},children:"Install Thanos"})})},W=i(133),E=i.n(W),N=function(r){w(),v();var e=Object(P.a)("(min-width:600px)")?"visible":"hidden",i="dark"===r.theme.palette.type;return Object(t.jsx)(h.a,{position:"static",color:i?"default":"secondary",style:{boxShadow:"none",opacity:1},children:Object(t.jsxs)(u.a,{children:[Object(t.jsx)("a",{href:"https://edukera.github.io/completium-landing/index.html",target:"_blank",style:{color:"white",height:"32px"},children:Object(t.jsx)(O.a,{variant:"h6",style:{position:"absolute",fontFamily:"Alegreya Sans SC, sans-serif"},children:"Completium"})}),Object(t.jsx)(D.a,{container:!0,justify:"center",alignItems:"center",children:Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)(O.a,{variant:"h6",style:{visibility:e,textAlign:"center",color:"white"},children:r.appTitle})})}),Object(t.jsx)(T,{handleConnect:r.handleConnect}),Object(t.jsx)("a",{href:"https://edukera.github.io/completium-landing/docs/dapp-escrow/Presentation",target:"_blank",children:Object(t.jsx)(f.a,{style:{color:"white"},component:"span",children:Object(t.jsx)(E.a,{})})})]})})},G=i(136),H=i(329),L=i(330),B=i(134),z=i(335),M=i(333);function _(r){return Object(t.jsx)(M.a,Object(B.a)({elevation:6,variant:"filled"},r))}var Q=function(r){return Object(t.jsx)(z.a,{open:r.open,children:Object(t.jsx)(_,{severity:"info",style:{backgroundColor:r.theme.palette.secondary.main},children:"Waiting for operation confirmation ..."})})},Z=(i(265),function(r){return Object(t.jsx)(h.a,{position:"static",color:"default",style:{boxShadow:"none",opacity:1,heigh:300},children:Object(t.jsx)(u.a,{style:{minHeight:256},children:Object(t.jsx)(D.a,{container:!0,justify:"center",alignItems:"center",children:Object(t.jsx)(D.a,{item:!0,children:Object(t.jsxs)(O.a,{variant:"body2",color:"textSecondary",style:{flexGrow:1},children:["@copyright ",r.appName," 2021"]})})})})})}),V=i(331),q=i(322),J=i(324),K=i(323),Y=i(56),$=i.n(Y),X=i(135),rr=i.n(X),er=function(r){return console.log("/completium-dapp-escrow"),Object(t.jsx)(q.a,{style:{display:"flex",marginTop:50,marginBottom:50},children:Object(t.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(t.jsx)(K.a,{style:{width:335,height:400,flex:"1 0 auto"},image:"/completium-dapp-escrow/armchair.jpg"}),Object(t.jsx)(J.a,{children:Object(t.jsxs)(D.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:[Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(O.a,{variant:"h5",children:"Armchair for Bedroom / Living Room / Lounge"})}),Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsxs)(D.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:[Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)($.a,{color:"secondary"})}),Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)($.a,{color:"secondary"})}),Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)($.a,{color:"secondary"})}),Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)($.a,{color:"secondary"})}),Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)(rr.a,{})}),Object(t.jsx)(D.a,{item:!0,style:{marginLeft:18},children:Object(t.jsx)(O.a,{children:"139 ratings"})})]})}),Object(t.jsx)(D.a,{item:!0,xs:1,children:Object(t.jsx)(O.a,{children:"Price:"})}),Object(t.jsx)(D.a,{item:!0,xs:11,style:{paddingLeft:12},children:Object(t.jsxs)(O.a,{variant:"h5",children:[g,"\ua729"]})}),Object(t.jsx)(D.a,{item:!0,xs:1,children:Object(t.jsx)(O.a,{children:"Color:"})}),Object(t.jsx)(D.a,{item:!0,xs:11,style:{paddingLeft:12},children:Object(t.jsx)(O.a,{children:"grey"})}),Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(O.a,{variant:"body1",style:{width:"100%"},children:Object(t.jsxs)("ul",{children:[Object(t.jsx)("li",{children:"Tub Chair Dimensions: 68 cm W x 62 cm D x 72 cm H."}),Object(t.jsx)("li",{children:"High quality fabric linen and supportive foam seating with soft upholstery, soft touching and durable; UK Fire Retardant foam and cover."}),Object(t.jsx)("li",{children:"Solid oak legs in natural colour finished, standing firm for daily use."}),Object(t.jsx)("li",{children:"With good packaging, simple to assemble, only 4 chair legs to attach."}),Object(t.jsx)("li",{children:"The occasional chair is suitable for living room, dining room, bedroom, office or conservatory with modern and stylish looking."})]})})})]})})]})})},ir=i(325),tr=i(336),nr=i(327),ar=i(334),sr=i(337),cr=i(138),or=i(326),mr=i(338);var lr=Object(I.a)((function(){var r=Object(n.useState)({address:void 0,balance:0,delivery:!1}),e=Object(p.a)(r,2),i=e[0],t=e[1];return{escrowState:i,setAddress:function(r){t({address:r,balance:0,delivery:!1})},setBalance:function(r){t({address:i.address,balance:r,delivery:r>0})},closeDelivery:function(){t({address:i.address,balance:i.balance,delivery:!1})}}})),pr=Object(p.a)(lr,2),dr=pr[0],jr=pr[1],gr=function(r){var e=jr().escrowState;return void 0===e.address?Object(t.jsx)(D.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{padding:12,paddingLeft:24,height:55},children:Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)(O.a,{color:"textSecondary",style:{fontSize:"smaller"},children:"Escrow not created (see below)."})})}):Object(t.jsxs)(D.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{padding:12,paddingLeft:24},children:[Object(t.jsx)(D.a,{item:!0,xs:2,children:Object(t.jsx)(O.a,{children:"Escrow address:"})}),Object(t.jsx)(D.a,{item:!0,xs:5,children:Object(t.jsx)("a",{style:{textDecoration:"none"},href:"https://better-call.dev/delphinet/"+e.address+"/operations",target:"_blank",children:Object(t.jsx)(mr.a,{label:e.address,color:"secondary",clickable:!0,variant:"outlined"})})}),Object(t.jsx)(D.a,{item:!0,xs:1,children:Object(t.jsx)(O.a,{children:"Balance:"})}),Object(t.jsx)(D.a,{item:!0,xs:1,children:Object(t.jsxs)(O.a,{children:[e.balance,"\ua729"]})})]})},xr=i(70),br=i.n(xr),hr=[{prim:"storage",args:[{prim:"pair",args:[{prim:"address",annots:["%seller"]},{prim:"pair",args:[{prim:"address",annots:["%buyer"]},{prim:"pair",args:[{prim:"address",annots:["%taxcollector"]},{prim:"pair",args:[{prim:"mutez",annots:["%price"]},{prim:"int",annots:["%_state"]}]}]}]}]}]},{prim:"parameter",args:[{prim:"or",args:[{prim:"unit",annots:["%abortCreated"]},{prim:"or",args:[{prim:"unit",annots:["%abortFunded"]},{prim:"or",args:[{prim:"unit",annots:["%abort"]},{prim:"or",args:[{prim:"unit",annots:["%fund"]},{prim:"unit",annots:["%complete"]}]}]}]}]}]},{prim:"code",args:[[{prim:"NIL",args:[{prim:"operation"}]},{prim:"DIG",args:[{int:"1"}]},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"DIP",args:[[[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"}]]},{prim:"IF_LEFT",args:[[{prim:"DROP"},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidCaller"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"int"},{int:"0"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"2"}]},{prim:"COMPARE"},{prim:"EQ"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"int"},{int:"1"}]},{prim:"SWAP"},{prim:"DROP"}],[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidState"}]},{prim:"FAILWITH"}]]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"IF_LEFT",args:[[{prim:"DROP"},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidCaller"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"int"},{int:"2"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"2"}]},{prim:"COMPARE"},{prim:"EQ"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"int"},{int:"1"}]},{prim:"SWAP"},{prim:"DROP"}],[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidState"}]},{prim:"FAILWITH"}]]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"IF_LEFT",args:[[{prim:"DROP"},{prim:"PUSH",args:[{prim:"timestamp"},{int:"1605024984"}]},{prim:"NOW"},{prim:"COMPARE"},{prim:"GT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"int"},{int:"1"}]},{prim:"SWAP"},{prim:"DROP"}],[]]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"IF_LEFT",args:[[{prim:"DROP"},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidCaller"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"int"},{int:"0"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"2"}]},{prim:"COMPARE"},{prim:"EQ"},{prim:"IF",args:[[{prim:"DIG",args:[{int:"1"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"2"}]},{prim:"UNIT"},{prim:"LEFT",args:[{prim:"unit"}]},{prim:"PUSH",args:[{prim:"nat"},{int:"10"}]},{prim:"PUSH",args:[{prim:"int"},{int:"11"}]},{prim:"PAIR"},{prim:"UNIT"},{prim:"LEFT",args:[{prim:"unit"}]},{prim:"PUSH",args:[{prim:"nat"},{int:"5"}]},{prim:"PUSH",args:[{prim:"int"},{int:"1"}]},{prim:"PAIR"},{prim:"PUSH",args:[{prim:"nat"},{int:"1"}]},{prim:"PUSH",args:[{prim:"int"},{int:"1"}]},{prim:"PAIR"},{prim:"PAIR"},{prim:"PAIR"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"DIP",args:[[[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},{prim:"DUP"}]]},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},{prim:"DUP"},{prim:"DIG",args:[{int:"3"}]},{prim:"MUL"},{prim:"DUG",args:[{int:"4"}]},{prim:"DIG",args:[{int:"3"}]},{prim:"MUL"},{prim:"DIP",args:[[{prim:"MUL"}]]},{prim:"DIG",args:[{int:"3"}]},{prim:"IF_LEFT",args:[[{prim:"DROP"},{prim:"ADD"}],[{prim:"DROP"},{prim:"SWAP"},{prim:"SUB"}]]},{prim:"PAIR"},{prim:"PAIR"},{prim:"PAIR"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"DIP",args:[[[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},{prim:"DUP"}]]},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},{prim:"DUP"},{prim:"DIG",args:[{int:"3"}]},{prim:"MUL"},{prim:"DUG",args:[{int:"4"}]},{prim:"DIG",args:[{int:"3"}]},{prim:"MUL"},{prim:"DIP",args:[[{prim:"MUL"}]]},{prim:"DIG",args:[{int:"3"}]},{prim:"IF_LEFT",args:[[{prim:"DROP"},{prim:"ADD"}],[{prim:"DROP"},{prim:"SWAP"},{prim:"SUB"}]]},{prim:"PAIR"},{prim:"PAIR"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"ABS"},{prim:"DIG",args:[{int:"2"}]},{prim:"MUL"},{prim:"EDIV"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"DivByZero"}]},{prim:"FAILWITH"}],[]]},{prim:"CAR"},{prim:"AMOUNT"},{prim:"COMPARE"},{prim:"GE"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"int"},{int:"2"}]},{prim:"SWAP"},{prim:"DROP"}],[]]}],[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidState"}]},{prim:"FAILWITH"}]]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"DROP"},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidCaller"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"int"},{int:"2"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"2"}]},{prim:"COMPARE"},{prim:"EQ"},{prim:"IF",args:[[{prim:"DIG",args:[{int:"5"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"6"}]},{prim:"DIG",args:[{int:"5"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"6"}]},{prim:"CONTRACT",args:[{prim:"unit"}]},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"BadContract"}]},{prim:"FAILWITH"}],[]]},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"UNIT"},{prim:"TRANSFER_TOKENS"},{prim:"CONS"},{prim:"DIP",args:[[{prim:"DIG",args:[{int:"5"}]},{prim:"DROP"}]]},{prim:"DUG",args:[{int:"5"}]},{prim:"DIG",args:[{int:"5"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"6"}]},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"CONTRACT",args:[{prim:"unit"}]},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"BadContract"}]},{prim:"FAILWITH"}],[]]},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"PUSH",args:[{prim:"nat"},{int:"5"}]},{prim:"PUSH",args:[{prim:"int"},{int:"1"}]},{prim:"PAIR"},{prim:"PAIR"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"ABS"},{prim:"DIG",args:[{int:"2"}]},{prim:"MUL"},{prim:"EDIV"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"DivByZero"}]},{prim:"FAILWITH"}],[]]},{prim:"CAR"},{prim:"UNIT"},{prim:"TRANSFER_TOKENS"},{prim:"CONS"},{prim:"DIP",args:[[{prim:"DIG",args:[{int:"5"}]},{prim:"DROP"}]]},{prim:"DUG",args:[{int:"5"}]},{prim:"DIG",args:[{int:"5"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"6"}]},{prim:"DIG",args:[{int:"4"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"5"}]},{prim:"CONTRACT",args:[{prim:"unit"}]},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"BadContract"}]},{prim:"FAILWITH"}],[]]},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"PUSH",args:[{prim:"nat"},{int:"10"}]},{prim:"PUSH",args:[{prim:"int"},{int:"11"}]},{prim:"PAIR"},{prim:"PAIR"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"ABS"},{prim:"DIG",args:[{int:"2"}]},{prim:"MUL"},{prim:"EDIV"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"DivByZero"}]},{prim:"FAILWITH"}],[]]},{prim:"CAR"},{prim:"UNIT"},{prim:"TRANSFER_TOKENS"},{prim:"CONS"},{prim:"DIP",args:[[{prim:"DIG",args:[{int:"5"}]},{prim:"DROP"}]]},{prim:"DUG",args:[{int:"5"}]},{prim:"PUSH",args:[{prim:"int"},{int:"4"}]},{prim:"SWAP"},{prim:"DROP"}],[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidState"}]},{prim:"FAILWITH"}]]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}]]}]]}]]}]]}]]}],ur=i(32),Or=Object(ir.a)((function(r){return{root:{width:"100%",marginBottom:50},button:{marginTop:r.spacing(1),marginRight:r.spacing(1)},actionsContainer:{marginBottom:r.spacing(2)},resetContainer:{padding:r.spacing(3)}}}));var Pr=function(r){var e=U(),i=jr().setAddress,n=C();return Object(t.jsxs)(D.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2,children:[Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(O.a,{children:"Check escrow data below and click 'Create Escrow' button below:"})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Buyer (yourself)"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:null===n?Object(t.jsx)(O.a,{color:"textSecondary",children:"(Connect to wallet)"}):Object(t.jsx)(O.a,{style:{fontFamily:"Courier Prime, monospace"},children:n})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Seller"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:Object(t.jsx)(O.a,{style:{fontFamily:"Courier Prime, monospace"},children:x})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Tax collector"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:Object(t.jsx)(O.a,{style:{fontFamily:"Courier Prime, monospace"},children:b})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Tax"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:Object(t.jsxs)(O.a,{children:["20% (",17..toString(),"\ua729)"]})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Security deposit"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:Object(t.jsxs)(O.a,{children:["110% (",(1.1*g).toFixed(2).toString(),"\ua729)"]})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Deadline"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:Object(t.jsx)(O.a,{children:(new Date).toLocaleDateString()})}),Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)(f.a,{color:"secondary",variant:"contained",disableElevation:!0,onClick:function(){e.wallet.originate({code:hr,storage:{seller:x,buyer:n,taxcollector:b,price:(1e6*parseInt(g)).toString(),_state:"0"}}).send().then((function(e){return console.log("Waiting for confirmation of origination..."),r.openSnack(),e.contract()})).then((function(e){r.closeSnack(),i(e.address),r.handleNext(),console.log("Origination completed for ".concat(e.address,"."))})).catch((function(r){return console.log("Error: ".concat(JSON.stringify(r,null,2)))}))},disabled:null===n,children:"create escrow"})})]})},fr=function(r){var e=jr(),i=e.escrowState,n=e.setBalance,a=U();console.log("address: ".concat(i.address));return Object(t.jsxs)(D.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2,children:[Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(O.a,{children:"You may now transfer the price amount to the seller and get back your security deposit."})}),Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(M.a,{severity:"warning",children:"We strongly advise you wait for the delivery to be completed."})}),Object(t.jsx)(D.a,{item:!0,xs:1,style:{textAlign:"right"},children:Object(t.jsx)(br.a,{fontSize:"small"})}),Object(t.jsx)(D.a,{item:!0,xs:11,children:Object(t.jsxs)(O.a,{children:["transfer price value (",g,"\ua729) to seller"]})}),Object(t.jsx)(D.a,{item:!0,xs:1,style:{textAlign:"right"},children:Object(t.jsx)(br.a,{fontSize:"small"})}),Object(t.jsx)(D.a,{item:!0,xs:11,children:Object(t.jsxs)(O.a,{children:["transfer back security deposit (",(1.1*g).toFixed(2).toString(),"\ua729) to yourself"]})}),Object(t.jsx)(D.a,{item:!0,xs:1,style:{textAlign:"right"},children:Object(t.jsx)(br.a,{fontSize:"small"})}),Object(t.jsx)(D.a,{item:!0,xs:11,children:Object(t.jsxs)(O.a,{children:["transfer tax (",17..toString(),"\ua729) to tax collector"]})}),Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(f.a,{color:"secondary",variant:"contained",disableElevation:!0,style:{marginTop:20},onClick:function(){a.wallet.at(i.address).then((function(e){e.methods.complete(ur.b).send().then((function(e){r.openSnack(),e.receipt().then((function(){r.closeSnack(),n(0),r.handleNext()}))}))}))},children:"Transfer amounts"})})]})},Dr=function(r){var e=1.1*g,i=17,n=85+1*e+1*i;console.log("total : ".concat(n));var a=jr(),s=a.escrowState,c=a.setBalance,o=U();return Object(t.jsxs)(D.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2,children:[Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(O.a,{children:"Check funding amounts below and click 'Fund Escrow' button below:"})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Price"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:Object(t.jsxs)(O.a,{children:[g,"\ua729"]})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Security deposit"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:Object(t.jsxs)(O.a,{children:[e.toFixed(2).toString(),"\ua729 (110%*",g,"\ua729)"]})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Tax"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:Object(t.jsxs)(O.a,{children:[i.toString(),"\ua729 (20%*",g,"\ua729)"]})}),Object(t.jsx)(D.a,{item:!0,xs:6,children:Object(t.jsx)(or.a,{})}),Object(t.jsx)(D.a,{item:!0,xs:6}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Total"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:Object(t.jsxs)(O.a,{variant:"h5",children:[n.toString(),"\ua729"]})}),Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)(f.a,{color:"secondary",variant:"contained",disableElevation:!0,onClick:function(){o.wallet.at(s.address).then((function(e){e.methods.fund(ur.b).send({amount:n.toString()}).then((function(e){r.openSnack(),e.receipt().then((function(){r.closeSnack(),c(n.toString()),r.handleNext()}))}))}))},children:"Fund escrow"})})]})};function Ir(r){switch(r.index){case 0:return Object(t.jsx)(Pr,{handleNext:r.handleNext,openSnack:r.openSnack,closeSnack:r.closeSnack});case 1:return Object(t.jsx)(Dr,{handleNext:r.handleNext,openSnack:r.openSnack,closeSnack:r.closeSnack});case 2:return Object(t.jsx)(fr,{handleNext:r.handleNext,openSnack:r.openSnack,closeSnack:r.closeSnack});default:return Object(t.jsx)("div",{})}}function Sr(r){var e=Or(),i=a.a.useState(0),n=Object(p.a)(i,2),s=n[0],c=n[1],o=jr().setAddress,m=["Create payment escrow","Fund escrow","Transfer"],l=function(){c((function(r){return r+1}))},d=function(){c((function(r){return r-1}))};return Object(t.jsxs)(q.a,{className:e.root,children:[Object(t.jsx)(gr,{}),Object(t.jsx)(or.a,{}),Object(t.jsx)(tr.a,{activeStep:s,orientation:"vertical",color:"secondary",children:m.map((function(i,n){return Object(t.jsxs)(nr.a,{children:[Object(t.jsx)(ar.a,{children:i}),Object(t.jsx)(sr.a,{children:Object(t.jsx)(Ir,{index:n,activeStep:s,steps:m,handleBack:d,handleNext:l,classes:e,openSnack:r.openSnack,closeSnack:r.closeSnack})})]},i)}))}),s===m.length&&Object(t.jsxs)(cr.a,{square:!0,elevation:0,className:e.resetContainer,children:[Object(t.jsx)(O.a,{children:"All steps completed - you're finished"}),Object(t.jsx)(f.a,{onClick:function(){o(void 0),c(0)},className:e.button,children:"Reset"})]})]})}var yr=i(332),Ar=i(328);var Rr=function(r){return Object(t.jsxs)(D.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2,children:[Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(O.a,{children:"Fill your address below and click 'Set Address' button."})}),Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(yr.a,{id:"address-street",label:"Street",variant:"outlined",color:"secondary",size:"small",fullWidth:!0})}),Object(t.jsx)(D.a,{item:!0,xs:6,children:Object(t.jsx)(yr.a,{id:"address-city",label:"City",variant:"outlined",color:"secondary",size:"small"})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(yr.a,{id:"address-state",label:"State",variant:"outlined",color:"secondary",size:"small"})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(yr.a,{id:"address-zip",label:"Zip",variant:"outlined",color:"secondary",size:"small"})}),Object(t.jsx)(D.a,{item:!0,xs:6,children:Object(t.jsx)(yr.a,{id:"address-county",label:"County",variant:"outlined",color:"secondary",size:"small"})}),Object(t.jsx)(D.a,{item:!0,xs:6,children:Object(t.jsx)(yr.a,{id:"address-country",label:"Country",variant:"outlined",color:"secondary",size:"small",fullWidth:!0})}),Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(f.a,{color:"secondary",variant:"contained",disableElevation:!0,onClick:function(){r.setAddressFilled(!0)},children:"set address"})})]})};function vr(r){switch(r.index){case 0:return Object(t.jsx)(Rr,{handleNext:r.handleNext,setAddressFilled:r.setAddressFilled});default:return Object(t.jsx)("div",{})}}var Ur=Object(ir.a)((function(r){return{root:{width:"100%"},button:{marginTop:r.spacing(1),marginRight:r.spacing(1)},actionsContainer:{marginBottom:r.spacing(2)},resetContainer:{padding:r.spacing(3)}}})),Cr=function(r){var e=jr(),i=e.escrowState,s=e.closeDelivery,c=Ur(),o=a.a.useState(0),m=Object(p.a)(o,2),l=m[0],d=m[1],j=a.a.useState(!1),g=Object(p.a)(j,2),x=g[0],b=g[1],h=["Fill shipping address","Parcel is ready","Parcel is in transit","Parcel delivered!"],u=function(){d((function(r){return r+1}))},P=function(){d((function(r){return r-1}))};return Object(n.useEffect)((function(){if(x)switch(l){case 0:d((function(r){return r+1}));break;case 1:setTimeout((function(){d((function(r){return r+1}))}),5e3);break;case 2:setTimeout((function(){d((function(r){return r+1}))}),8e3);break;case 3:d((function(r){return r+1}))}}),[x,l]),Object(t.jsx)(Ar.a,{direction:"up",in:i.delivery,mountOnEnter:!0,unmountOnExit:!0,children:Object(t.jsxs)(cr.a,{elevation:3,style:{position:"fixed",bottom:20,right:20,width:"490px",backgroundImage:"url(/completium-dapp-escrow/envelop.svg)",backgroundRepeat:"no-repeat",backgroundPosition:"right 5% top -30px"},children:[Object(t.jsx)(O.a,{variant:"h6",style:{marginTop:12,marginLeft:24},children:"Express Delivery Service"}),Object(t.jsxs)(O.a,{style:{fontSize:"smaller",marginLeft:24,marginBottom:12},color:"textSecondary",children:["Tracking number: ",l>0?" #CC0499546230":" -"]}),Object(t.jsx)(or.a,{}),Object(t.jsx)(tr.a,{activeStep:l,orientation:"vertical",color:"secondary",children:h.map((function(r,e){return Object(t.jsxs)(nr.a,{children:[Object(t.jsx)(ar.a,{children:r}),Object(t.jsx)(sr.a,{children:Object(t.jsx)(vr,{index:e,activeStep:l,steps:h,handleBack:P,handleNext:u,setAddressFilled:b,classes:c})})]},r)}))}),l===h.length&&Object(t.jsxs)(cr.a,{square:!0,elevation:0,className:c.resetContainer,style:{paddingTop:0},children:[Object(t.jsx)(O.a,{children:"Thank you for your confidence in EDS."}),Object(t.jsx)(f.a,{onClick:function(){d(0),b(!1),s()},className:c.button,children:"Close"})]})]})})};function wr(r){var e=a.a.useState(!1),i=Object(p.a)(e,2),n=i[0],s=i[1],c=k(),o=a.a.useMemo((function(){return Object(G.a)({overrides:{MuiStepIcon:{root:{"&$completed":{color:"#ca7c1b"},"&$active":{color:"#ed9222"}},active:{},completed:{}}},palette:{type:"light",secondary:{light:"#f5c58a",main:"#ed9222",dark:"#ca7c1b",contrastText:"#fff"}}})}),[false]),g=a.a.useCallback(Object(l.a)(m.a.mark((function r(){return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c(d);case 3:r.next=8;break;case 5:r.prev=5,r.t0=r.catch(0),alert(r.t0.message);case 8:case 9:case"end":return r.stop()}}),r,null,[[0,5]])}))),[c]);return Object(t.jsxs)(H.a,{theme:o,children:[Object(t.jsx)(L.a,{}),Object(t.jsx)(N,{appTitle:"Peer to peer payment!",handleConnect:g,theme:o}),Object(t.jsx)(V.a,{maxWidth:"md",children:Object(t.jsxs)(D.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)(er,{})}),Object(t.jsx)(D.a,{item:!0,style:{width:"100%"},children:Object(t.jsx)(Sr,{openSnack:function(){s(!0)},closeSnack:function(){s(!1)}})})]})}),Object(t.jsx)(Z,{appName:j}),Object(t.jsx)(Q,{open:n,theme:o}),Object(t.jsx)(Cr,{open:!0})]})}var kr=function(){return Object(t.jsx)(R,{appName:j,children:Object(t.jsx)(dr,{children:Object(t.jsx)(a.a.Suspense,{fallback:null,children:Object(t.jsx)(wr,{})})})})},Fr=function(r){r&&r instanceof Function&&i.e(3).then(i.bind(null,339)).then((function(e){var i=e.getCLS,t=e.getFID,n=e.getFCP,a=e.getLCP,s=e.getTTFB;i(r),t(r),n(r),a(r),s(r)}))};c.a.render(Object(t.jsx)(a.a.StrictMode,{children:Object(t.jsx)(kr,{})}),document.getElementById("root")),Fr()},75:function(r,e,i){}},[[267,1,2]]]);
//# sourceMappingURL=main.2b361ba2.chunk.js.map