(this["webpackJsonpcompletium-dapp-escrow"]=this["webpackJsonpcompletium-dapp-escrow"]||[]).push([[0],{161:function(r,i){},163:function(r,i){},229:function(r,i){},231:function(r,i){},244:function(r,i){},246:function(r,i){},262:function(r,i,e){},265:function(r,i,e){"use strict";e.r(i);var t=e(2),n=e(0),a=e.n(n),s=e(13),c=e.n(s),m=(e(73),e(48)),o=e.n(m),l=e(61),p=e(15),d="delphinet",j="AmazinCorp.",g="85",x="tz1ZXf37ZNfVupt5GVyrPJ76q8kbjFuD2z7R",b="tz1MZrh8CvYkp7BfLQMcm6mg5FvL5HRZfACw",h=e(313),u=e(316),O=e(267),P=e(312),f=e(318),D=e(319),I=e(317),S=e(63),A=e(91),y=Object(S.a)((function(r){var i=r.appName,e=a.a.useState((function(){return{wallet:null,tezos:null,accountPkh:null}})),t=Object(p.a)(e,2),n=t[0],s=n.wallet,c=n.tezos,m=n.accountPkh,d=t[1],j=Boolean(c);a.a.useEffect((function(){return A.a.onAvailabilityChange((function(r){d({wallet:r?new A.a(i):null,tezos:null,accountPkh:null})}))}),[d,i]);var g=a.a.useCallback(function(){var r=Object(l.a)(o.a.mark((function r(i,e){var t,n;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,s){r.next=3;break}throw new Error("Thanos Wallet not available");case 3:return r.next=5,s.connect(i,e);case 5:return t=s.toTezos(),r.next=8,t.wallet.pkh();case 8:n=r.sent,d({wallet:s,tezos:t,accountPkh:n}),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),alert("Failed to connect ThanosWallet: ".concat(r.t0.message));case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(i,e){return r.apply(this,arguments)}}(),[d,s]);return{wallet:s,tezos:c,accountPkh:m,ready:j,connect:g}}),(function(r){return r.wallet}),(function(r){return r.tezos}),(function(r){return r.accountPkh}),(function(r){return r.ready}),(function(r){return r.connect})),R=Object(p.a)(y,6),v=R[0],U=R[1],C=R[2],w=R[3],k=R[4],F=R[5];var T=function(r){var i=k(),e=U(),n=Object(P.a)("(min-width:600px)")?"visible":"hidden",a="dark"===r.theme.palette.type;return Object(t.jsx)(h.a,{position:"static",color:a?"default":"secondary",style:{boxShadow:"none",opacity:1},children:Object(t.jsxs)(u.a,{children:[Object(t.jsx)(O.a,{variant:"h6",style:{color:"white",position:"absolute",fontFamily:"Alegreya Sans SC, sans-serif"},children:"Completium"}),Object(t.jsx)(I.a,{container:!0,justify:"center",alignItems:"center",children:Object(t.jsx)(I.a,{item:!0,children:Object(t.jsx)(O.a,{variant:"h6",style:{visibility:n,textAlign:"center",color:"white"},children:r.appTitle})})}),i?Object(t.jsx)("div",{}):e?Object(t.jsx)(f.a,{variant:"contained",color:"secondary",disableElevation:!0,size:"small",style:{position:"absolute",right:"1%"},onClick:r.handleConnect,children:"connect to wallet"}):Object(t.jsx)(D.a,{href:"https://thanoswallet.com/",rel:"noopener",underline:"none",style:{position:"absolute",right:"1%"},children:Object(t.jsx)(f.a,{variant:"contained",size:"small",disableElevation:!0,style:{backgroundColor:"#ed8936",color:"white",fontWeight:"bold"},children:"Install Thanos"})})]})})},W=e(135),E=e(328),N=e(329),G=e(133),H=e(334),L=e(332);function B(r){return Object(t.jsx)(L.a,Object(G.a)({elevation:6,variant:"filled"},r))}var z=function(r){return Object(t.jsx)(H.a,{open:r.open,children:Object(t.jsx)(B,{severity:"info",style:{backgroundColor:r.theme.palette.secondary.main},children:"Waiting for operation confirmation ..."})})},M=(e(262),function(r){return Object(t.jsx)(h.a,{position:"static",color:"default",style:{boxShadow:"none",opacity:1,heigh:300},children:Object(t.jsx)(u.a,{style:{minHeight:256},children:Object(t.jsx)(I.a,{container:!0,justify:"center",alignItems:"center",children:Object(t.jsx)(I.a,{item:!0,children:Object(t.jsxs)(O.a,{variant:"body2",color:"textSecondary",style:{flexGrow:1},children:["@copyright ",r.appName," 2021"]})})})})})}),_=e(330),Q=e(321),Z=e(323),V=e(322),q=e(55),J=e.n(q),K=e(134),Y=e.n(K),$=function(r){return console.log("/completium-dapp-escrow"),Object(t.jsx)(Q.a,{style:{display:"flex",marginTop:50,marginBottom:50},children:Object(t.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(t.jsx)(V.a,{style:{width:335,height:400,flex:"1 0 auto"},image:"/completium-dapp-escrow/armchair.jpg"}),Object(t.jsx)(Z.a,{children:Object(t.jsxs)(I.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:[Object(t.jsx)(I.a,{item:!0,xs:12,children:Object(t.jsx)(O.a,{variant:"h5",children:"Armchair for Bedroom / Living Room / Lounge"})}),Object(t.jsx)(I.a,{item:!0,xs:12,children:Object(t.jsxs)(I.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:[Object(t.jsx)(I.a,{item:!0,children:Object(t.jsx)(J.a,{color:"secondary"})}),Object(t.jsx)(I.a,{item:!0,children:Object(t.jsx)(J.a,{color:"secondary"})}),Object(t.jsx)(I.a,{item:!0,children:Object(t.jsx)(J.a,{color:"secondary"})}),Object(t.jsx)(I.a,{item:!0,children:Object(t.jsx)(J.a,{color:"secondary"})}),Object(t.jsx)(I.a,{item:!0,children:Object(t.jsx)(Y.a,{})}),Object(t.jsx)(I.a,{item:!0,style:{marginLeft:18},children:Object(t.jsx)(O.a,{children:"139 ratings"})})]})}),Object(t.jsx)(I.a,{item:!0,xs:1,children:Object(t.jsx)(O.a,{children:"Price:"})}),Object(t.jsx)(I.a,{item:!0,xs:11,style:{paddingLeft:12},children:Object(t.jsxs)(O.a,{variant:"h5",children:[g,"\ua729"]})}),Object(t.jsx)(I.a,{item:!0,xs:1,children:Object(t.jsx)(O.a,{children:"Color:"})}),Object(t.jsx)(I.a,{item:!0,xs:11,style:{paddingLeft:12},children:Object(t.jsx)(O.a,{children:"grey"})}),Object(t.jsx)(I.a,{item:!0,xs:12,children:Object(t.jsx)(O.a,{variant:"body1",style:{width:"100%"},children:Object(t.jsxs)("ul",{children:[Object(t.jsx)("li",{children:"Tub Chair Dimensions: 68 cm W x 62 cm D x 72 cm H."}),Object(t.jsx)("li",{children:"High quality fabric linen and supportive foam seating with soft upholstery, soft touching and durable; UK Fire Retardant foam and cover."}),Object(t.jsx)("li",{children:"Solid oak legs in natural colour finished, standing firm for daily use."}),Object(t.jsx)("li",{children:"With good packaging, simple to assemble, only 4 chair legs to attach."}),Object(t.jsx)("li",{children:"The occasional chair is suitable for living room, dining room, bedroom, office or conservatory with modern and stylish looking."})]})})})]})})]})})},X=e(324),rr=e(335),ir=e(326),er=e(333),tr=e(336),nr=e(136),ar=e(325),sr=e(337);var cr=Object(S.a)((function(){var r=Object(n.useState)({address:void 0,balance:0,delivery:!1}),i=Object(p.a)(r,2),e=i[0],t=i[1];return{escrowState:e,setAddress:function(r){t({address:r,balance:0,delivery:!1})},setBalance:function(r){t({address:e.address,balance:r,delivery:r>0})},closeDelivery:function(){t({address:e.address,balance:e.balance,delivery:!1})}}})),mr=Object(p.a)(cr,2),or=mr[0],lr=mr[1],pr=function(r){var i=lr().escrowState;return void 0===i.address?Object(t.jsx)(I.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{padding:12,paddingLeft:24,height:55},children:Object(t.jsx)(I.a,{item:!0,children:Object(t.jsx)(O.a,{color:"textSecondary",style:{fontSize:"smaller"},children:"Escrow not created (see below)."})})}):Object(t.jsxs)(I.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{padding:12,paddingLeft:24},children:[Object(t.jsx)(I.a,{item:!0,xs:2,children:Object(t.jsx)(O.a,{children:"Escrow address:"})}),Object(t.jsx)(I.a,{item:!0,xs:5,children:Object(t.jsx)("a",{style:{textDecoration:"none"},href:"https://better-call.dev/delphinet/"+i.address+"/operations",target:"_blank",children:Object(t.jsx)(sr.a,{label:i.address,color:"secondary",clickable:!0,variant:"outlined"})})}),Object(t.jsx)(I.a,{item:!0,xs:1,children:Object(t.jsx)(O.a,{children:"Balance:"})}),Object(t.jsx)(I.a,{item:!0,xs:1,children:Object(t.jsxs)(O.a,{children:[i.balance,"\ua729"]})})]})},dr=e(69),jr=e.n(dr),gr=[{prim:"storage",args:[{prim:"pair",args:[{prim:"address",annots:["%seller"]},{prim:"pair",args:[{prim:"address",annots:["%buyer"]},{prim:"pair",args:[{prim:"address",annots:["%taxcollector"]},{prim:"pair",args:[{prim:"mutez",annots:["%price"]},{prim:"int",annots:["%_state"]}]}]}]}]}]},{prim:"parameter",args:[{prim:"or",args:[{prim:"unit",annots:["%abortCreated"]},{prim:"or",args:[{prim:"unit",annots:["%abortFunded"]},{prim:"or",args:[{prim:"unit",annots:["%abort"]},{prim:"or",args:[{prim:"unit",annots:["%fund"]},{prim:"unit",annots:["%complete"]}]}]}]}]}]},{prim:"code",args:[[{prim:"NIL",args:[{prim:"operation"}]},{prim:"DIG",args:[{int:"1"}]},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"DIP",args:[[[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"}]]},{prim:"IF_LEFT",args:[[{prim:"DROP"},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidCaller"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"int"},{int:"0"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"2"}]},{prim:"COMPARE"},{prim:"EQ"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"int"},{int:"1"}]},{prim:"SWAP"},{prim:"DROP"}],[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidState"}]},{prim:"FAILWITH"}]]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"IF_LEFT",args:[[{prim:"DROP"},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidCaller"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"int"},{int:"2"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"2"}]},{prim:"COMPARE"},{prim:"EQ"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"int"},{int:"1"}]},{prim:"SWAP"},{prim:"DROP"}],[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidState"}]},{prim:"FAILWITH"}]]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"IF_LEFT",args:[[{prim:"DROP"},{prim:"PUSH",args:[{prim:"timestamp"},{int:"1605024984"}]},{prim:"NOW"},{prim:"COMPARE"},{prim:"GT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"int"},{int:"1"}]},{prim:"SWAP"},{prim:"DROP"}],[]]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"IF_LEFT",args:[[{prim:"DROP"},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidCaller"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"int"},{int:"0"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"2"}]},{prim:"COMPARE"},{prim:"EQ"},{prim:"IF",args:[[{prim:"DIG",args:[{int:"1"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"2"}]},{prim:"UNIT"},{prim:"LEFT",args:[{prim:"unit"}]},{prim:"PUSH",args:[{prim:"nat"},{int:"10"}]},{prim:"PUSH",args:[{prim:"int"},{int:"11"}]},{prim:"PAIR"},{prim:"UNIT"},{prim:"LEFT",args:[{prim:"unit"}]},{prim:"PUSH",args:[{prim:"nat"},{int:"5"}]},{prim:"PUSH",args:[{prim:"int"},{int:"1"}]},{prim:"PAIR"},{prim:"PUSH",args:[{prim:"nat"},{int:"1"}]},{prim:"PUSH",args:[{prim:"int"},{int:"1"}]},{prim:"PAIR"},{prim:"PAIR"},{prim:"PAIR"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"DIP",args:[[[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},{prim:"DUP"}]]},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},{prim:"DUP"},{prim:"DIG",args:[{int:"3"}]},{prim:"MUL"},{prim:"DUG",args:[{int:"4"}]},{prim:"DIG",args:[{int:"3"}]},{prim:"MUL"},{prim:"DIP",args:[[{prim:"MUL"}]]},{prim:"DIG",args:[{int:"3"}]},{prim:"IF_LEFT",args:[[{prim:"DROP"},{prim:"ADD"}],[{prim:"DROP"},{prim:"SWAP"},{prim:"SUB"}]]},{prim:"PAIR"},{prim:"PAIR"},{prim:"PAIR"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"DIP",args:[[[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},{prim:"DUP"}]]},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},{prim:"DUP"},{prim:"DIG",args:[{int:"3"}]},{prim:"MUL"},{prim:"DUG",args:[{int:"4"}]},{prim:"DIG",args:[{int:"3"}]},{prim:"MUL"},{prim:"DIP",args:[[{prim:"MUL"}]]},{prim:"DIG",args:[{int:"3"}]},{prim:"IF_LEFT",args:[[{prim:"DROP"},{prim:"ADD"}],[{prim:"DROP"},{prim:"SWAP"},{prim:"SUB"}]]},{prim:"PAIR"},{prim:"PAIR"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"ABS"},{prim:"DIG",args:[{int:"2"}]},{prim:"MUL"},{prim:"EDIV"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"DivByZero"}]},{prim:"FAILWITH"}],[]]},{prim:"CAR"},{prim:"AMOUNT"},{prim:"COMPARE"},{prim:"GE"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"int"},{int:"2"}]},{prim:"SWAP"},{prim:"DROP"}],[]]}],[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidState"}]},{prim:"FAILWITH"}]]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"DROP"},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidCaller"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"int"},{int:"2"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"2"}]},{prim:"COMPARE"},{prim:"EQ"},{prim:"IF",args:[[{prim:"DIG",args:[{int:"5"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"6"}]},{prim:"DIG",args:[{int:"5"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"6"}]},{prim:"CONTRACT",args:[{prim:"unit"}]},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"BadContract"}]},{prim:"FAILWITH"}],[]]},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"UNIT"},{prim:"TRANSFER_TOKENS"},{prim:"CONS"},{prim:"DIP",args:[[{prim:"DIG",args:[{int:"5"}]},{prim:"DROP"}]]},{prim:"DUG",args:[{int:"5"}]},{prim:"DIG",args:[{int:"5"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"6"}]},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"CONTRACT",args:[{prim:"unit"}]},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"BadContract"}]},{prim:"FAILWITH"}],[]]},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"PUSH",args:[{prim:"nat"},{int:"5"}]},{prim:"PUSH",args:[{prim:"int"},{int:"1"}]},{prim:"PAIR"},{prim:"PAIR"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"ABS"},{prim:"DIG",args:[{int:"2"}]},{prim:"MUL"},{prim:"EDIV"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"DivByZero"}]},{prim:"FAILWITH"}],[]]},{prim:"CAR"},{prim:"UNIT"},{prim:"TRANSFER_TOKENS"},{prim:"CONS"},{prim:"DIP",args:[[{prim:"DIG",args:[{int:"5"}]},{prim:"DROP"}]]},{prim:"DUG",args:[{int:"5"}]},{prim:"DIG",args:[{int:"5"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"6"}]},{prim:"DIG",args:[{int:"4"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"5"}]},{prim:"CONTRACT",args:[{prim:"unit"}]},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"BadContract"}]},{prim:"FAILWITH"}],[]]},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"PUSH",args:[{prim:"nat"},{int:"10"}]},{prim:"PUSH",args:[{prim:"int"},{int:"11"}]},{prim:"PAIR"},{prim:"PAIR"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"ABS"},{prim:"DIG",args:[{int:"2"}]},{prim:"MUL"},{prim:"EDIV"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"DivByZero"}]},{prim:"FAILWITH"}],[]]},{prim:"CAR"},{prim:"UNIT"},{prim:"TRANSFER_TOKENS"},{prim:"CONS"},{prim:"DIP",args:[[{prim:"DIG",args:[{int:"5"}]},{prim:"DROP"}]]},{prim:"DUG",args:[{int:"5"}]},{prim:"PUSH",args:[{prim:"int"},{int:"4"}]},{prim:"SWAP"},{prim:"DROP"}],[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidState"}]},{prim:"FAILWITH"}]]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}]]}]]}]]}]]}]]}],xr=e(32),br=Object(X.a)((function(r){return{root:{width:"100%",marginBottom:50},button:{marginTop:r.spacing(1),marginRight:r.spacing(1)},actionsContainer:{marginBottom:r.spacing(2)},resetContainer:{padding:r.spacing(3)}}}));var hr=function(r){var i=C(),e=lr().setAddress,n=w();return Object(t.jsxs)(I.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2,children:[Object(t.jsx)(I.a,{item:!0,xs:12,children:Object(t.jsx)(O.a,{children:"Check escrow data below and click 'Create Escrow' button below:"})}),Object(t.jsx)(I.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Buyer (yourself)"})}),Object(t.jsx)(I.a,{item:!0,xs:9,children:null===n?Object(t.jsx)(O.a,{color:"textSecondary",children:"(Connect to wallet)"}):Object(t.jsx)(O.a,{style:{fontFamily:"Courier Prime, monospace"},children:n})}),Object(t.jsx)(I.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Seller"})}),Object(t.jsx)(I.a,{item:!0,xs:9,children:Object(t.jsx)(O.a,{style:{fontFamily:"Courier Prime, monospace"},children:x})}),Object(t.jsx)(I.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Tax collector"})}),Object(t.jsx)(I.a,{item:!0,xs:9,children:Object(t.jsx)(O.a,{style:{fontFamily:"Courier Prime, monospace"},children:b})}),Object(t.jsx)(I.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Tax"})}),Object(t.jsx)(I.a,{item:!0,xs:9,children:Object(t.jsxs)(O.a,{children:["20% (",17..toString(),"\ua729)"]})}),Object(t.jsx)(I.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Security deposit"})}),Object(t.jsx)(I.a,{item:!0,xs:9,children:Object(t.jsxs)(O.a,{children:["110% (",(1.1*g).toFixed(2).toString(),"\ua729)"]})}),Object(t.jsx)(I.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Deadline"})}),Object(t.jsx)(I.a,{item:!0,xs:9,children:Object(t.jsx)(O.a,{children:(new Date).toLocaleDateString()})}),Object(t.jsx)(I.a,{item:!0,children:Object(t.jsx)(f.a,{color:"secondary",variant:"contained",disableElevation:!0,onClick:function(){i.wallet.originate({code:gr,storage:{seller:x,buyer:n,taxcollector:b,price:(1e6*parseInt(g)).toString(),_state:"0"}}).send().then((function(i){return console.log("Waiting for confirmation of origination..."),r.openSnack(),i.contract()})).then((function(i){r.closeSnack(),e(i.address),r.handleNext(),console.log("Origination completed for ".concat(i.address,"."))})).catch((function(r){return console.log("Error: ".concat(JSON.stringify(r,null,2)))}))},disabled:null===n,children:"create escrow"})})]})},ur=function(r){var i=lr(),e=i.escrowState,n=i.setBalance,a=C();console.log("address: ".concat(e.address));return Object(t.jsxs)(I.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2,children:[Object(t.jsx)(I.a,{item:!0,xs:12,children:Object(t.jsx)(O.a,{children:"You may now transfer the price amount to the seller and get back your security deposit."})}),Object(t.jsx)(I.a,{item:!0,xs:12,children:Object(t.jsx)(L.a,{severity:"warning",children:"We strongly advise you wait for the delivery to be completed."})}),Object(t.jsx)(I.a,{item:!0,xs:1,style:{textAlign:"right"},children:Object(t.jsx)(jr.a,{fontSize:"small"})}),Object(t.jsx)(I.a,{item:!0,xs:11,children:Object(t.jsxs)(O.a,{children:["transfer price value (",g,"\ua729) to seller"]})}),Object(t.jsx)(I.a,{item:!0,xs:1,style:{textAlign:"right"},children:Object(t.jsx)(jr.a,{fontSize:"small"})}),Object(t.jsx)(I.a,{item:!0,xs:11,children:Object(t.jsxs)(O.a,{children:["transfer back security deposit (",(1.1*g).toFixed(2).toString(),"\ua729) to yourself"]})}),Object(t.jsx)(I.a,{item:!0,xs:1,style:{textAlign:"right"},children:Object(t.jsx)(jr.a,{fontSize:"small"})}),Object(t.jsx)(I.a,{item:!0,xs:11,children:Object(t.jsxs)(O.a,{children:["transfer tax (",17..toString(),"\ua729) to tax collector"]})}),Object(t.jsx)(I.a,{item:!0,xs:12,children:Object(t.jsx)(f.a,{color:"secondary",variant:"contained",disableElevation:!0,style:{marginTop:20},onClick:function(){a.wallet.at(e.address).then((function(i){i.methods.complete(xr.b).send().then((function(i){r.openSnack(),i.receipt().then((function(){r.closeSnack(),n(0),r.handleNext()}))}))}))},children:"Transfer amounts"})})]})},Or=function(r){var i=1.1*g,e=17,n=85+1*i+1*e;console.log("total : ".concat(n));var a=lr(),s=a.escrowState,c=a.setBalance,m=C();return Object(t.jsxs)(I.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2,children:[Object(t.jsx)(I.a,{item:!0,xs:12,children:Object(t.jsx)(O.a,{children:"Check funding amounts below and click 'Fund Escrow' button below:"})}),Object(t.jsx)(I.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Price"})}),Object(t.jsx)(I.a,{item:!0,xs:9,children:Object(t.jsxs)(O.a,{children:[g,"\ua729"]})}),Object(t.jsx)(I.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Security deposit"})}),Object(t.jsx)(I.a,{item:!0,xs:9,children:Object(t.jsxs)(O.a,{children:[i.toFixed(2).toString(),"\ua729 (110%*",g,"\ua729)"]})}),Object(t.jsx)(I.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Tax"})}),Object(t.jsx)(I.a,{item:!0,xs:9,children:Object(t.jsxs)(O.a,{children:[e.toString(),"\ua729 (20%*",g,"\ua729)"]})}),Object(t.jsx)(I.a,{item:!0,xs:6,children:Object(t.jsx)(ar.a,{})}),Object(t.jsx)(I.a,{item:!0,xs:6}),Object(t.jsx)(I.a,{item:!0,xs:3,children:Object(t.jsx)(O.a,{style:{fontWeight:"bold"},children:"Total"})}),Object(t.jsx)(I.a,{item:!0,xs:9,children:Object(t.jsxs)(O.a,{variant:"h5",children:[n.toString(),"\ua729"]})}),Object(t.jsx)(I.a,{item:!0,children:Object(t.jsx)(f.a,{color:"secondary",variant:"contained",disableElevation:!0,onClick:function(){m.wallet.at(s.address).then((function(i){i.methods.fund(xr.b).send({amount:n.toString()}).then((function(i){r.openSnack(),i.receipt().then((function(){r.closeSnack(),c(n.toString()),r.handleNext()}))}))}))},children:"Fund escrow"})})]})};function Pr(r){switch(r.index){case 0:return Object(t.jsx)(hr,{handleNext:r.handleNext,openSnack:r.openSnack,closeSnack:r.closeSnack});case 1:return Object(t.jsx)(Or,{handleNext:r.handleNext,openSnack:r.openSnack,closeSnack:r.closeSnack});case 2:return Object(t.jsx)(ur,{handleNext:r.handleNext,openSnack:r.openSnack,closeSnack:r.closeSnack});default:return Object(t.jsx)("div",{})}}function fr(r){var i=br(),e=a.a.useState(0),n=Object(p.a)(e,2),s=n[0],c=n[1],m=lr().setAddress,o=["Create payment escrow","Fund escrow","Transfer"],l=function(){c((function(r){return r+1}))},d=function(){c((function(r){return r-1}))};return Object(t.jsxs)(Q.a,{className:i.root,children:[Object(t.jsx)(pr,{}),Object(t.jsx)(ar.a,{}),Object(t.jsx)(rr.a,{activeStep:s,orientation:"vertical",color:"secondary",children:o.map((function(e,n){return Object(t.jsxs)(ir.a,{children:[Object(t.jsx)(er.a,{children:e}),Object(t.jsx)(tr.a,{children:Object(t.jsx)(Pr,{index:n,activeStep:s,steps:o,handleBack:d,handleNext:l,classes:i,openSnack:r.openSnack,closeSnack:r.closeSnack})})]},e)}))}),s===o.length&&Object(t.jsxs)(nr.a,{square:!0,elevation:0,className:i.resetContainer,children:[Object(t.jsx)(O.a,{children:"All steps completed - you're finished"}),Object(t.jsx)(f.a,{onClick:function(){m(void 0),c(0)},className:i.button,children:"Reset"})]})]})}var Dr=e(331),Ir=e(327);var Sr=function(r){return Object(t.jsxs)(I.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2,children:[Object(t.jsx)(I.a,{item:!0,xs:12,children:Object(t.jsx)(O.a,{children:"Fill your address below and click 'Set Address' button."})}),Object(t.jsx)(I.a,{item:!0,xs:12,children:Object(t.jsx)(Dr.a,{id:"address-street",label:"Street",variant:"outlined",color:"secondary",size:"small",fullWidth:!0})}),Object(t.jsx)(I.a,{item:!0,xs:6,children:Object(t.jsx)(Dr.a,{id:"address-city",label:"City",variant:"outlined",color:"secondary",size:"small"})}),Object(t.jsx)(I.a,{item:!0,xs:3,children:Object(t.jsx)(Dr.a,{id:"address-state",label:"State",variant:"outlined",color:"secondary",size:"small"})}),Object(t.jsx)(I.a,{item:!0,xs:3,children:Object(t.jsx)(Dr.a,{id:"address-zip",label:"Zip",variant:"outlined",color:"secondary",size:"small"})}),Object(t.jsx)(I.a,{item:!0,xs:6,children:Object(t.jsx)(Dr.a,{id:"address-county",label:"County",variant:"outlined",color:"secondary",size:"small"})}),Object(t.jsx)(I.a,{item:!0,xs:6,children:Object(t.jsx)(Dr.a,{id:"address-country",label:"Country",variant:"outlined",color:"secondary",size:"small",fullWidth:!0})}),Object(t.jsx)(I.a,{item:!0,xs:12,children:Object(t.jsx)(f.a,{color:"secondary",variant:"contained",disableElevation:!0,onClick:function(){r.setAddressFilled(!0)},children:"set address"})})]})};function Ar(r){switch(r.index){case 0:return Object(t.jsx)(Sr,{handleNext:r.handleNext,setAddressFilled:r.setAddressFilled});default:return Object(t.jsx)("div",{})}}var yr=Object(X.a)((function(r){return{root:{width:"100%"},button:{marginTop:r.spacing(1),marginRight:r.spacing(1)},actionsContainer:{marginBottom:r.spacing(2)},resetContainer:{padding:r.spacing(3)}}})),Rr=function(r){var i=lr(),e=i.escrowState,s=i.closeDelivery,c=yr(),m=a.a.useState(0),o=Object(p.a)(m,2),l=o[0],d=o[1],j=a.a.useState(!1),g=Object(p.a)(j,2),x=g[0],b=g[1],h=["Fill shipping address","Parcel is ready","Parcel is in transit","Parcel delivered!"],u=function(){d((function(r){return r+1}))},P=function(){d((function(r){return r-1}))};return Object(n.useEffect)((function(){if(x)switch(l){case 0:d((function(r){return r+1}));break;case 1:setTimeout((function(){d((function(r){return r+1}))}),5e3);break;case 2:setTimeout((function(){d((function(r){return r+1}))}),8e3);break;case 3:d((function(r){return r+1}))}}),[x,l]),Object(t.jsx)(Ir.a,{direction:"up",in:e.delivery,mountOnEnter:!0,unmountOnExit:!0,children:Object(t.jsxs)(nr.a,{elevation:3,style:{position:"fixed",bottom:20,right:20,width:"490px",backgroundImage:"url(/completium-dapp-escrow/envelop.svg)",backgroundRepeat:"no-repeat",backgroundPosition:"right 5% top -30px"},children:[Object(t.jsx)(O.a,{variant:"h6",style:{marginTop:12,marginLeft:24},children:"Express Delivery Service"}),Object(t.jsxs)(O.a,{style:{fontSize:"smaller",marginLeft:24,marginBottom:12},color:"textSecondary",children:["Tracking number: ",l>0?" #CC0499546230":" -"]}),Object(t.jsx)(ar.a,{}),Object(t.jsx)(rr.a,{activeStep:l,orientation:"vertical",color:"secondary",children:h.map((function(r,i){return Object(t.jsxs)(ir.a,{children:[Object(t.jsx)(er.a,{children:r}),Object(t.jsx)(tr.a,{children:Object(t.jsx)(Ar,{index:i,activeStep:l,steps:h,handleBack:P,handleNext:u,setAddressFilled:b,classes:c})})]},r)}))}),l===h.length&&Object(t.jsxs)(nr.a,{square:!0,elevation:0,className:c.resetContainer,style:{paddingTop:0},children:[Object(t.jsx)(O.a,{children:"Thank you for your confidence in EDS."}),Object(t.jsx)(f.a,{onClick:function(){d(0),b(!1),s()},className:c.button,children:"Close"})]})]})})};function vr(r){var i=a.a.useState(!1),e=Object(p.a)(i,2),n=e[0],s=e[1],c=F(),m=a.a.useMemo((function(){return Object(W.a)({overrides:{MuiStepIcon:{root:{"&$completed":{color:"#ca7c1b"},"&$active":{color:"#ed9222"}},active:{},completed:{}}},palette:{type:"light",secondary:{light:"#f5c58a",main:"#ed9222",dark:"#ca7c1b",contrastText:"#fff"}}})}),[false]),g=a.a.useCallback(Object(l.a)(o.a.mark((function r(){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c(d);case 3:r.next=8;break;case 5:r.prev=5,r.t0=r.catch(0),alert(r.t0.message);case 8:case 9:case"end":return r.stop()}}),r,null,[[0,5]])}))),[c]);return Object(t.jsxs)(E.a,{theme:m,children:[Object(t.jsx)(N.a,{}),Object(t.jsx)(T,{appTitle:"Peer to peer payment!",handleConnect:g,theme:m}),Object(t.jsx)(_.a,{maxWidth:"md",children:Object(t.jsxs)(I.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(t.jsx)(I.a,{item:!0,children:Object(t.jsx)($,{})}),Object(t.jsx)(I.a,{item:!0,style:{width:"100%"},children:Object(t.jsx)(fr,{openSnack:function(){s(!0)},closeSnack:function(){s(!1)}})})]})}),Object(t.jsx)(M,{appName:j}),Object(t.jsx)(z,{open:n,theme:m}),Object(t.jsx)(Rr,{open:!0})]})}var Ur=function(){return Object(t.jsx)(v,{appName:j,children:Object(t.jsx)(or,{children:Object(t.jsx)(a.a.Suspense,{fallback:null,children:Object(t.jsx)(vr,{})})})})},Cr=function(r){r&&r instanceof Function&&e.e(3).then(e.bind(null,338)).then((function(i){var e=i.getCLS,t=i.getFID,n=i.getFCP,a=i.getLCP,s=i.getTTFB;e(r),t(r),n(r),a(r),s(r)}))};c.a.render(Object(t.jsx)(a.a.StrictMode,{children:Object(t.jsx)(Ur,{})}),document.getElementById("root")),Cr()},73:function(r,i,e){}},[[265,1,2]]]);
//# sourceMappingURL=main.4346fe6f.chunk.js.map