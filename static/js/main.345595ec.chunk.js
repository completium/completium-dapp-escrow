(this["webpackJsonpcompletium-dapp-escrow"]=this["webpackJsonpcompletium-dapp-escrow"]||[]).push([[0],{161:function(r,i){},163:function(r,i){},229:function(r,i){},231:function(r,i){},244:function(r,i){},246:function(r,i){},262:function(r,i,e){},265:function(r,i,e){"use strict";e.r(i);var t=e(2),n=e(0),a=e.n(n),s=e(13),c=e.n(s),m=(e(73),e(48)),o=e.n(m),l=e(61),p=e(15),d="AmazinCorp.",j="85",g="tz1ZXf37ZNfVupt5GVyrPJ76q8kbjFuD2z7R",x="tz1Lc2qBKEWCBeDU8npG6zCeCqpmaegRi6Jg",b=e(313),h=e(316),u=e(267),O=e(312),P=e(318),f=e(319),D=e(317),I=e(63),S=e(91),A=Object(I.a)((function(r){var i=r.appName,e=a.a.useState((function(){return{wallet:null,tezos:null,accountPkh:null}})),t=Object(p.a)(e,2),n=t[0],s=n.wallet,c=n.tezos,m=n.accountPkh,d=t[1],j=Boolean(c);a.a.useEffect((function(){return S.a.onAvailabilityChange((function(r){d({wallet:r?new S.a(i):null,tezos:null,accountPkh:null})}))}),[d,i]);var g=a.a.useCallback(function(){var r=Object(l.a)(o.a.mark((function r(i,e){var t,n;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,s){r.next=3;break}throw new Error("Thanos Wallet not available");case 3:return r.next=5,s.connect(i,e);case 5:return t=s.toTezos(),r.next=8,t.wallet.pkh();case 8:n=r.sent,d({wallet:s,tezos:t,accountPkh:n}),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),alert("Failed to connect ThanosWallet: ".concat(r.t0.message));case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(i,e){return r.apply(this,arguments)}}(),[d,s]);return{wallet:s,tezos:c,accountPkh:m,ready:j,connect:g}}),(function(r){return r.wallet}),(function(r){return r.tezos}),(function(r){return r.accountPkh}),(function(r){return r.ready}),(function(r){return r.connect})),y=Object(p.a)(A,6),R=y[0],U=y[1],v=y[2],C=y[3],w=y[4],k=y[5];var T=function(r){var i=w(),e=U(),n=Object(O.a)("(min-width:600px)")?"visible":"hidden",a="dark"===r.theme.palette.type;return Object(t.jsx)(b.a,{position:"static",color:a?"default":"secondary",style:{boxShadow:"none",opacity:1},children:Object(t.jsxs)(h.a,{children:[Object(t.jsx)(u.a,{variant:"h6",style:{color:"white",position:"absolute",fontFamily:"Alegreya Sans SC, sans-serif"},children:"Completium"}),Object(t.jsx)(D.a,{container:!0,justify:"center",alignItems:"center",children:Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)(u.a,{variant:"h6",style:{visibility:n,textAlign:"center",color:"white"},children:r.appTitle})})}),i?Object(t.jsx)("div",{}):e?Object(t.jsx)(P.a,{variant:"contained",color:"secondary",disableElevation:!0,size:"small",style:{position:"absolute",right:"1%"},onClick:r.handleConnect,children:"connect to wallet"}):Object(t.jsx)(f.a,{href:"https://thanoswallet.com/",rel:"noopener",underline:"none",style:{position:"absolute",right:"1%"},children:Object(t.jsx)(P.a,{variant:"contained",size:"small",disableElevation:!0,style:{backgroundColor:"#ed8936",color:"white",fontWeight:"bold"},children:"Install Thanos"})})]})})},W=e(135),F=e(328),E=e(329),G=e(133),N=e(334),H=e(332);function L(r){return Object(t.jsx)(H.a,Object(G.a)({elevation:6,variant:"filled"},r))}var B=function(r){return Object(t.jsx)(N.a,{open:r.open,children:Object(t.jsx)(L,{severity:"info",style:{backgroundColor:r.theme.palette.secondary.main},children:"Waiting for operation confirmation ..."})})},z=(e(262),function(r){return Object(t.jsx)(b.a,{position:"static",color:"default",style:{boxShadow:"none",opacity:1,heigh:300},children:Object(t.jsx)(h.a,{style:{minHeight:256},children:Object(t.jsx)(D.a,{container:!0,justify:"center",alignItems:"center",children:Object(t.jsx)(D.a,{item:!0,children:Object(t.jsxs)(u.a,{variant:"body2",color:"textSecondary",style:{flexGrow:1},children:["@copyright ",r.appName," 2021"]})})})})})}),M=e(330),_=e(321),Q=e(323),q=e(322),Z=e(55),J=e.n(Z),K=e(134),V=e.n(K),$=function(r){return console.log("/completium-dapp-escrow"),Object(t.jsx)(_.a,{style:{display:"flex",marginTop:50,marginBottom:50},children:Object(t.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(t.jsx)(q.a,{style:{width:335,height:400,flex:"1 0 auto"},image:"/completium-dapp-escrow/armchair.jpg"}),Object(t.jsx)(Q.a,{children:Object(t.jsxs)(D.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:[Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(u.a,{variant:"h5",children:"Armchair for Bedroom / Living Room / Lounge"})}),Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsxs)(D.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",children:[Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)(J.a,{color:"secondary"})}),Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)(J.a,{color:"secondary"})}),Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)(J.a,{color:"secondary"})}),Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)(J.a,{color:"secondary"})}),Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)(V.a,{})}),Object(t.jsx)(D.a,{item:!0,style:{marginLeft:18},children:Object(t.jsx)(u.a,{children:"139 ratings"})})]})}),Object(t.jsx)(D.a,{item:!0,xs:1,children:Object(t.jsx)(u.a,{children:"Price:"})}),Object(t.jsx)(D.a,{item:!0,xs:11,style:{paddingLeft:12},children:Object(t.jsxs)(u.a,{variant:"h5",children:[j,"\ua729"]})}),Object(t.jsx)(D.a,{item:!0,xs:1,children:Object(t.jsx)(u.a,{children:"Color:"})}),Object(t.jsx)(D.a,{item:!0,xs:11,style:{paddingLeft:12},children:Object(t.jsx)(u.a,{children:"grey"})}),Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(u.a,{variant:"body1",style:{width:"100%"},children:Object(t.jsxs)("ul",{children:[Object(t.jsx)("li",{children:"Tub Chair Dimensions: 68 cm W x 62 cm D x 72 cm H."}),Object(t.jsx)("li",{children:"High quality fabric linen and supportive foam seating with soft upholstery, soft touching and durable; UK Fire Retardant foam and cover."}),Object(t.jsx)("li",{children:"Solid oak legs in natural colour finished, standing firm for daily use."}),Object(t.jsx)("li",{children:"With good packaging, simple to assemble, only 4 chair legs to attach."}),Object(t.jsx)("li",{children:"The occasional chair is suitable for living room, dining room, bedroom, office or conservatory with modern and stylish looking."})]})})})]})})]})})},X=e(324),Y=e(335),rr=e(326),ir=e(333),er=e(336),tr=e(136),nr=e(325),ar=e(337);var sr=Object(I.a)((function(){var r=Object(n.useState)({address:void 0,balance:0,delivery:!1}),i=Object(p.a)(r,2),e=i[0],t=i[1];return{escrowState:e,setAddress:function(r){t({address:r,balance:0,delivery:!1})},setBalance:function(r){t({address:e.address,balance:r,delivery:r>0})},closeDelivery:function(){t({address:e.address,balance:e.balance,delivery:!1})}}})),cr=Object(p.a)(sr,2),mr=cr[0],or=cr[1],lr=function(r){var i=or().escrowState;return void 0===i.address?Object(t.jsx)(D.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{padding:12,paddingLeft:24,height:55},children:Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)(u.a,{color:"textSecondary",style:{fontSize:"smaller"},children:"Escrow not created (see below)."})})}):Object(t.jsxs)(D.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",style:{padding:12,paddingLeft:24},children:[Object(t.jsx)(D.a,{item:!0,xs:2,children:Object(t.jsx)(u.a,{children:"Escrow address:"})}),Object(t.jsx)(D.a,{item:!0,xs:5,children:Object(t.jsx)("a",{style:{textDecoration:"none"},href:"https://better-call.dev/carthagenet/"+i.address+"/operations",target:"_blank",children:Object(t.jsx)(ar.a,{label:i.address,color:"secondary",clickable:!0,variant:"outlined"})})}),Object(t.jsx)(D.a,{item:!0,xs:1,children:Object(t.jsx)(u.a,{children:"Balance:"})}),Object(t.jsx)(D.a,{item:!0,xs:1,children:Object(t.jsxs)(u.a,{children:[i.balance,"\ua729"]})})]})},pr=e(69),dr=e.n(pr),jr=[{prim:"storage",args:[{prim:"pair",args:[{prim:"address",annots:["%seller"]},{prim:"pair",args:[{prim:"address",annots:["%buyer"]},{prim:"pair",args:[{prim:"address",annots:["%taxcollector"]},{prim:"pair",args:[{prim:"mutez",annots:["%price"]},{prim:"int",annots:["%_state"]}]}]}]}]}]},{prim:"parameter",args:[{prim:"or",args:[{prim:"unit",annots:["%abortCreated"]},{prim:"or",args:[{prim:"unit",annots:["%abortFunded"]},{prim:"or",args:[{prim:"unit",annots:["%abort"]},{prim:"or",args:[{prim:"unit",annots:["%fund"]},{prim:"unit",annots:["%complete"]}]}]}]}]}]},{prim:"code",args:[[{prim:"NIL",args:[{prim:"operation"}]},{prim:"DIG",args:[{int:"1"}]},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"DIP",args:[[[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"}]]},{prim:"IF_LEFT",args:[[{prim:"DROP"},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidCaller"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"int"},{int:"0"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"2"}]},{prim:"COMPARE"},{prim:"EQ"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"int"},{int:"1"}]},{prim:"SWAP"},{prim:"DROP"}],[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidState"}]},{prim:"FAILWITH"}]]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"IF_LEFT",args:[[{prim:"DROP"},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidCaller"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"int"},{int:"2"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"2"}]},{prim:"COMPARE"},{prim:"EQ"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"int"},{int:"1"}]},{prim:"SWAP"},{prim:"DROP"}],[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidState"}]},{prim:"FAILWITH"}]]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"IF_LEFT",args:[[{prim:"DROP"},{prim:"PUSH",args:[{prim:"timestamp"},{int:"1605024984"}]},{prim:"NOW"},{prim:"COMPARE"},{prim:"GT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"int"},{int:"1"}]},{prim:"SWAP"},{prim:"DROP"}],[]]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"IF_LEFT",args:[[{prim:"DROP"},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidCaller"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"int"},{int:"0"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"2"}]},{prim:"COMPARE"},{prim:"EQ"},{prim:"IF",args:[[{prim:"DIG",args:[{int:"1"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"2"}]},{prim:"UNIT"},{prim:"LEFT",args:[{prim:"unit"}]},{prim:"PUSH",args:[{prim:"nat"},{int:"10"}]},{prim:"PUSH",args:[{prim:"int"},{int:"11"}]},{prim:"PAIR"},{prim:"UNIT"},{prim:"LEFT",args:[{prim:"unit"}]},{prim:"PUSH",args:[{prim:"nat"},{int:"5"}]},{prim:"PUSH",args:[{prim:"int"},{int:"1"}]},{prim:"PAIR"},{prim:"PUSH",args:[{prim:"nat"},{int:"1"}]},{prim:"PUSH",args:[{prim:"int"},{int:"1"}]},{prim:"PAIR"},{prim:"PAIR"},{prim:"PAIR"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"DIP",args:[[[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},{prim:"DUP"}]]},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},{prim:"DUP"},{prim:"DIG",args:[{int:"3"}]},{prim:"MUL"},{prim:"DUG",args:[{int:"4"}]},{prim:"DIG",args:[{int:"3"}]},{prim:"MUL"},{prim:"DIP",args:[[{prim:"MUL"}]]},{prim:"DIG",args:[{int:"3"}]},{prim:"IF_LEFT",args:[[{prim:"DROP"},{prim:"ADD"}],[{prim:"DROP"},{prim:"SWAP"},{prim:"SUB"}]]},{prim:"PAIR"},{prim:"PAIR"},{prim:"PAIR"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"DIP",args:[[[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},{prim:"DUP"}]]},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"SWAP"},{prim:"DUP"},{prim:"DIG",args:[{int:"3"}]},{prim:"MUL"},{prim:"DUG",args:[{int:"4"}]},{prim:"DIG",args:[{int:"3"}]},{prim:"MUL"},{prim:"DIP",args:[[{prim:"MUL"}]]},{prim:"DIG",args:[{int:"3"}]},{prim:"IF_LEFT",args:[[{prim:"DROP"},{prim:"ADD"}],[{prim:"DROP"},{prim:"SWAP"},{prim:"SUB"}]]},{prim:"PAIR"},{prim:"PAIR"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"ABS"},{prim:"DIG",args:[{int:"2"}]},{prim:"MUL"},{prim:"EDIV"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"DivByZero"}]},{prim:"FAILWITH"}],[]]},{prim:"CAR"},{prim:"AMOUNT"},{prim:"COMPARE"},{prim:"GE"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"int"},{int:"2"}]},{prim:"SWAP"},{prim:"DROP"}],[]]}],[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidState"}]},{prim:"FAILWITH"}]]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}],[{prim:"DROP"},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"SENDER"},{prim:"COMPARE"},{prim:"EQ"},{prim:"NOT"},{prim:"IF",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidCaller"}]},{prim:"FAILWITH"}],[]]},{prim:"PUSH",args:[{prim:"int"},{int:"2"}]},{prim:"DIG",args:[{int:"1"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"2"}]},{prim:"COMPARE"},{prim:"EQ"},{prim:"IF",args:[[{prim:"DIG",args:[{int:"5"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"6"}]},{prim:"DIG",args:[{int:"5"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"6"}]},{prim:"CONTRACT",args:[{prim:"unit"}]},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"BadContract"}]},{prim:"FAILWITH"}],[]]},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"UNIT"},{prim:"TRANSFER_TOKENS"},{prim:"CONS"},{prim:"DIP",args:[[{prim:"DIG",args:[{int:"5"}]},{prim:"DROP"}]]},{prim:"DUG",args:[{int:"5"}]},{prim:"DIG",args:[{int:"5"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"6"}]},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"CONTRACT",args:[{prim:"unit"}]},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"BadContract"}]},{prim:"FAILWITH"}],[]]},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"PUSH",args:[{prim:"nat"},{int:"5"}]},{prim:"PUSH",args:[{prim:"int"},{int:"1"}]},{prim:"PAIR"},{prim:"PAIR"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"ABS"},{prim:"DIG",args:[{int:"2"}]},{prim:"MUL"},{prim:"EDIV"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"DivByZero"}]},{prim:"FAILWITH"}],[]]},{prim:"CAR"},{prim:"UNIT"},{prim:"TRANSFER_TOKENS"},{prim:"CONS"},{prim:"DIP",args:[[{prim:"DIG",args:[{int:"5"}]},{prim:"DROP"}]]},{prim:"DUG",args:[{int:"5"}]},{prim:"DIG",args:[{int:"5"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"6"}]},{prim:"DIG",args:[{int:"4"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"5"}]},{prim:"CONTRACT",args:[{prim:"unit"}]},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"BadContract"}]},{prim:"FAILWITH"}],[]]},{prim:"DIG",args:[{int:"3"}]},{prim:"DUP"},{prim:"DUG",args:[{int:"4"}]},{prim:"PUSH",args:[{prim:"nat"},{int:"10"}]},{prim:"PUSH",args:[{prim:"int"},{int:"11"}]},{prim:"PAIR"},{prim:"PAIR"},[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],[[{prim:"DUP"},{prim:"CAR"},{prim:"DIP",args:[[{prim:"CDR"}]]}]],{prim:"ABS"},{prim:"DIG",args:[{int:"2"}]},{prim:"MUL"},{prim:"EDIV"},{prim:"IF_NONE",args:[[{prim:"PUSH",args:[{prim:"string"},{string:"DivByZero"}]},{prim:"FAILWITH"}],[]]},{prim:"CAR"},{prim:"UNIT"},{prim:"TRANSFER_TOKENS"},{prim:"CONS"},{prim:"DIP",args:[[{prim:"DIG",args:[{int:"5"}]},{prim:"DROP"}]]},{prim:"DUG",args:[{int:"5"}]},{prim:"PUSH",args:[{prim:"int"},{int:"4"}]},{prim:"SWAP"},{prim:"DROP"}],[{prim:"PUSH",args:[{prim:"string"},{string:"InvalidState"}]},{prim:"FAILWITH"}]]},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"SWAP"},{prim:"PAIR"},{prim:"DIG",args:[{int:"1"}]},{prim:"PAIR"}]]}]]}]]}]]}]]}],gr=e(32),xr=Object(X.a)((function(r){return{root:{width:"100%",marginBottom:50},button:{marginTop:r.spacing(1),marginRight:r.spacing(1)},actionsContainer:{marginBottom:r.spacing(2)},resetContainer:{padding:r.spacing(3)}}}));var br=function(r){var i=v(),e=or().setAddress,n=C();return Object(t.jsxs)(D.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2,children:[Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(u.a,{children:"Check escrow data below and click 'Create Escrow' button below:"})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(u.a,{style:{fontWeight:"bold"},children:"Buyer (yourself)"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:null===n?Object(t.jsx)(u.a,{color:"textSecondary",children:"(Connect to wallet)"}):Object(t.jsx)(u.a,{style:{fontFamily:"Courier Prime, monospace"},children:n})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(u.a,{style:{fontWeight:"bold"},children:"Seller"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:Object(t.jsx)(u.a,{style:{fontFamily:"Courier Prime, monospace"},children:g})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(u.a,{style:{fontWeight:"bold"},children:"Tax collector"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:Object(t.jsx)(u.a,{style:{fontFamily:"Courier Prime, monospace"},children:x})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(u.a,{style:{fontWeight:"bold"},children:"Tax"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:Object(t.jsxs)(u.a,{children:["20% (",17..toString(),"\ua729)"]})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(u.a,{style:{fontWeight:"bold"},children:"Security deposit"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:Object(t.jsxs)(u.a,{children:["110% (",(1.1*j).toFixed(2).toString(),"\ua729)"]})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(u.a,{style:{fontWeight:"bold"},children:"Deadline"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:Object(t.jsx)(u.a,{children:(new Date).toLocaleDateString()})}),Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)(P.a,{color:"secondary",variant:"contained",disableElevation:!0,onClick:function(){i.wallet.originate({code:jr,storage:{seller:g,buyer:n,taxcollector:x,price:(1e6*parseInt(j)).toString(),_state:"0"}}).send().then((function(i){return console.log("Waiting for confirmation of origination..."),r.openSnack(),i.contract()})).then((function(i){r.closeSnack(),e(i.address),r.handleNext(),console.log("Origination completed for ".concat(i.address,"."))})).catch((function(r){return console.log("Error: ".concat(JSON.stringify(r,null,2)))}))},disabled:null===n,children:"create escrow"})})]})},hr=function(r){var i=or(),e=i.escrowState,n=i.setBalance,a=v();console.log("address: ".concat(e.address));return Object(t.jsxs)(D.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2,children:[Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(u.a,{children:"You may now transfer the price amount to the seller and get back your security deposit."})}),Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(H.a,{severity:"warning",children:"We strongly advise you wait for the delivery to be completed."})}),Object(t.jsx)(D.a,{item:!0,xs:1,style:{textAlign:"right"},children:Object(t.jsx)(dr.a,{fontSize:"small"})}),Object(t.jsx)(D.a,{item:!0,xs:11,children:Object(t.jsxs)(u.a,{children:["transfer price value (",j,"\ua729) to seller"]})}),Object(t.jsx)(D.a,{item:!0,xs:1,style:{textAlign:"right"},children:Object(t.jsx)(dr.a,{fontSize:"small"})}),Object(t.jsx)(D.a,{item:!0,xs:11,children:Object(t.jsxs)(u.a,{children:["transfer back security deposit (",(1.1*j).toFixed(2).toString(),"\ua729) to yourself"]})}),Object(t.jsx)(D.a,{item:!0,xs:1,style:{textAlign:"right"},children:Object(t.jsx)(dr.a,{fontSize:"small"})}),Object(t.jsx)(D.a,{item:!0,xs:11,children:Object(t.jsxs)(u.a,{children:["transfer tax (",17..toString(),"\ua729) to tax collector"]})}),Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(P.a,{color:"secondary",variant:"contained",disableElevation:!0,style:{marginTop:20},onClick:function(){a.wallet.at(e.address).then((function(i){i.methods.complete(gr.b).send().then((function(i){r.openSnack(),i.receipt().then((function(){r.closeSnack(),n(0),r.handleNext()}))}))}))},children:"Transfer amounts"})})]})},ur=function(r){var i=1.1*j,e=17,n=85+1*i+1*e;console.log("total : ".concat(n));var a=or(),s=a.escrowState,c=a.setBalance,m=v();return Object(t.jsxs)(D.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2,children:[Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(u.a,{children:"Check funding amounts below and click 'Fund Escrow' button below:"})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(u.a,{style:{fontWeight:"bold"},children:"Price"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:Object(t.jsxs)(u.a,{children:[j,"\ua729"]})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(u.a,{style:{fontWeight:"bold"},children:"Security deposit"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:Object(t.jsxs)(u.a,{children:[i.toFixed(2).toString(),"\ua729 (110%*",j,"\ua729)"]})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(u.a,{style:{fontWeight:"bold"},children:"Tax"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:Object(t.jsxs)(u.a,{children:[e.toString(),"\ua729 (20%*",j,"\ua729)"]})}),Object(t.jsx)(D.a,{item:!0,xs:6,children:Object(t.jsx)(nr.a,{})}),Object(t.jsx)(D.a,{item:!0,xs:6}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(u.a,{style:{fontWeight:"bold"},children:"Total"})}),Object(t.jsx)(D.a,{item:!0,xs:9,children:Object(t.jsxs)(u.a,{variant:"h5",children:[n.toString(),"\ua729"]})}),Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)(P.a,{color:"secondary",variant:"contained",disableElevation:!0,onClick:function(){m.wallet.at(s.address).then((function(i){i.methods.fund(gr.b).send({amount:n.toString()}).then((function(i){r.openSnack(),i.receipt().then((function(){r.closeSnack(),c(n.toString()),r.handleNext()}))}))}))},children:"Fund escrow"})})]})};function Or(r){switch(r.index){case 0:return Object(t.jsx)(br,{handleNext:r.handleNext,openSnack:r.openSnack,closeSnack:r.closeSnack});case 1:return Object(t.jsx)(ur,{handleNext:r.handleNext,openSnack:r.openSnack,closeSnack:r.closeSnack});case 2:return Object(t.jsx)(hr,{handleNext:r.handleNext,openSnack:r.openSnack,closeSnack:r.closeSnack});default:return Object(t.jsx)("div",{})}}function Pr(r){var i=xr(),e=a.a.useState(0),n=Object(p.a)(e,2),s=n[0],c=n[1],m=or().setAddress,o=["Create payment escrow","Fund escrow","Transfer"],l=function(){c((function(r){return r+1}))},d=function(){c((function(r){return r-1}))};return Object(t.jsxs)(_.a,{className:i.root,children:[Object(t.jsx)(lr,{}),Object(t.jsx)(nr.a,{}),Object(t.jsx)(Y.a,{activeStep:s,orientation:"vertical",color:"secondary",children:o.map((function(e,n){return Object(t.jsxs)(rr.a,{children:[Object(t.jsx)(ir.a,{children:e}),Object(t.jsx)(er.a,{children:Object(t.jsx)(Or,{index:n,activeStep:s,steps:o,handleBack:d,handleNext:l,classes:i,openSnack:r.openSnack,closeSnack:r.closeSnack})})]},e)}))}),s===o.length&&Object(t.jsxs)(tr.a,{square:!0,elevation:0,className:i.resetContainer,children:[Object(t.jsx)(u.a,{children:"All steps completed - you're finished"}),Object(t.jsx)(P.a,{onClick:function(){m(void 0),c(0)},className:i.button,children:"Reset"})]})]})}var fr=e(331),Dr=e(327);var Ir=function(r){return Object(t.jsxs)(D.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2,children:[Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(u.a,{children:"Fill your address below and click 'Set Address' button."})}),Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(fr.a,{id:"address-street",label:"Street",variant:"outlined",color:"secondary",size:"small",fullWidth:!0})}),Object(t.jsx)(D.a,{item:!0,xs:6,children:Object(t.jsx)(fr.a,{id:"address-city",label:"City",variant:"outlined",color:"secondary",size:"small"})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(fr.a,{id:"address-state",label:"State",variant:"outlined",color:"secondary",size:"small"})}),Object(t.jsx)(D.a,{item:!0,xs:3,children:Object(t.jsx)(fr.a,{id:"address-zip",label:"Zip",variant:"outlined",color:"secondary",size:"small"})}),Object(t.jsx)(D.a,{item:!0,xs:6,children:Object(t.jsx)(fr.a,{id:"address-county",label:"County",variant:"outlined",color:"secondary",size:"small"})}),Object(t.jsx)(D.a,{item:!0,xs:6,children:Object(t.jsx)(fr.a,{id:"address-country",label:"Country",variant:"outlined",color:"secondary",size:"small",fullWidth:!0})}),Object(t.jsx)(D.a,{item:!0,xs:12,children:Object(t.jsx)(P.a,{color:"secondary",variant:"contained",disableElevation:!0,onClick:function(){r.setAddressFilled(!0)},children:"set address"})})]})};function Sr(r){switch(r.index){case 0:return Object(t.jsx)(Ir,{handleNext:r.handleNext,setAddressFilled:r.setAddressFilled});default:return Object(t.jsx)("div",{})}}var Ar=Object(X.a)((function(r){return{root:{width:"100%"},button:{marginTop:r.spacing(1),marginRight:r.spacing(1)},actionsContainer:{marginBottom:r.spacing(2)},resetContainer:{padding:r.spacing(3)}}})),yr=function(r){var i=or(),e=i.escrowState,s=i.closeDelivery,c=Ar(),m=a.a.useState(0),o=Object(p.a)(m,2),l=o[0],d=o[1],j=a.a.useState(!1),g=Object(p.a)(j,2),x=g[0],b=g[1],h=["Fill shipping address","Parcel is ready","Parcel is in transit","Parcel delivered!"],O=function(){d((function(r){return r+1}))},f=function(){d((function(r){return r-1}))};return Object(n.useEffect)((function(){if(x)switch(l){case 0:d((function(r){return r+1}));break;case 1:setTimeout((function(){d((function(r){return r+1}))}),5e3);break;case 2:setTimeout((function(){d((function(r){return r+1}))}),8e3);break;case 3:d((function(r){return r+1}))}}),[x,l]),Object(t.jsx)(Dr.a,{direction:"up",in:e.delivery,mountOnEnter:!0,unmountOnExit:!0,children:Object(t.jsxs)(tr.a,{elevation:3,style:{position:"fixed",bottom:20,right:20,width:"490px",backgroundImage:"url(/completium-dapp-escrow/envelop.svg)",backgroundRepeat:"no-repeat",backgroundPosition:"right 5% top -30px"},children:[Object(t.jsx)(u.a,{variant:"h6",style:{marginTop:12,marginLeft:24},children:"Express Delivery Service"}),Object(t.jsxs)(u.a,{style:{fontSize:"smaller",marginLeft:24,marginBottom:12},color:"textSecondary",children:["Tracking number: ",l>0?" #CC0499546230":" -"]}),Object(t.jsx)(nr.a,{}),Object(t.jsx)(Y.a,{activeStep:l,orientation:"vertical",color:"secondary",children:h.map((function(r,i){return Object(t.jsxs)(rr.a,{children:[Object(t.jsx)(ir.a,{children:r}),Object(t.jsx)(er.a,{children:Object(t.jsx)(Sr,{index:i,activeStep:l,steps:h,handleBack:f,handleNext:O,setAddressFilled:b,classes:c})})]},r)}))}),l===h.length&&Object(t.jsxs)(tr.a,{square:!0,elevation:0,className:c.resetContainer,style:{paddingTop:0},children:[Object(t.jsx)(u.a,{children:"Thank you for your confidence in EDS."}),Object(t.jsx)(P.a,{onClick:function(){d(0),b(!1),s()},className:c.button,children:"Close"})]})]})})};function Rr(r){var i=a.a.useState(!1),e=Object(p.a)(i,2),n=e[0],s=e[1],c=k(),m=a.a.useMemo((function(){return Object(W.a)({overrides:{MuiStepIcon:{root:{"&$completed":{color:"#ca7c1b"},"&$active":{color:"#ed9222"}},active:{},completed:{}}},palette:{type:"light",secondary:{light:"#f5c58a",main:"#ed9222",dark:"#ca7c1b",contrastText:"#fff"}}})}),[false]),j=a.a.useCallback(Object(l.a)(o.a.mark((function r(){return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c("carthagenet");case 3:r.next=8;break;case 5:r.prev=5,r.t0=r.catch(0),alert(r.t0.message);case 8:case 9:case"end":return r.stop()}}),r,null,[[0,5]])}))),[c]);return Object(t.jsxs)(F.a,{theme:m,children:[Object(t.jsx)(E.a,{}),Object(t.jsx)(T,{appTitle:"Peer to peer payment!",handleConnect:j,theme:m}),Object(t.jsx)(M.a,{maxWidth:"md",children:Object(t.jsxs)(D.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:[Object(t.jsx)(D.a,{item:!0,children:Object(t.jsx)($,{})}),Object(t.jsx)(D.a,{item:!0,style:{width:"100%"},children:Object(t.jsx)(Pr,{openSnack:function(){s(!0)},closeSnack:function(){s(!1)}})})]})}),Object(t.jsx)(z,{appName:d}),Object(t.jsx)(B,{open:n,theme:m}),Object(t.jsx)(yr,{open:!0})]})}var Ur=function(){return Object(t.jsx)(R,{appName:d,children:Object(t.jsx)(mr,{children:Object(t.jsx)(a.a.Suspense,{fallback:null,children:Object(t.jsx)(Rr,{})})})})},vr=function(r){r&&r instanceof Function&&e.e(3).then(e.bind(null,338)).then((function(i){var e=i.getCLS,t=i.getFID,n=i.getFCP,a=i.getLCP,s=i.getTTFB;e(r),t(r),n(r),a(r),s(r)}))};c.a.render(Object(t.jsx)(a.a.StrictMode,{children:Object(t.jsx)(Ur,{})}),document.getElementById("root")),vr()},73:function(r,i,e){}},[[265,1,2]]]);
//# sourceMappingURL=main.345595ec.chunk.js.map